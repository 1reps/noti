# Enum

> EnumSet
> 
1. EnumSet은 enum과 함께 동작하는 특별한 Set입니다.
2. EnumSet은 Set 인터페이스를 구현하면서 AbstractSet를 상속하지만 대부분의 메서드를 재정의해서 사용합니다.
3. EnumSet은 열거형 값만 저장할 수 있습니다. 그리고 모든 값은 같은 열거형에 속해야합니다.
4. EnumSet에는 null을 추가할 수 없습니다. (= NullPointerException)
5. EnumSet은 thread-safe 하지 않습니다. 만약 동기화가 필요하다면, 외부에서 동기화 처리를 해주어야 합니다.
6. 요소들은 열거형에 정의된 순서에 따라 저장됩니다.
7. EnumSet은 복사시에 실패에 안전한 반복자를 사용하므로 컬렉션이 반복되는 도중에 변경되어도 ConcurrentModificationException이 발생하지 않습니다.
8. EnumSet은 인스턴스를 생성하는 메서드를 제외하고는 다른 Set과 동일하게 동작한다.

> EnumSet을 왜 쓸까?
> 
1. noneOf()라는 메서드는 많은 부분에서 사용되고 있습니다.
RegularEnumSet과 JumboEnumSet이 universe의 length 속성으로 구분된다.
2. RegularEnumSet은 long의 bit를 기준으로 long 하나로 충분히 표현가능한 경우 사용
3. JumboEnumSet은 그 이상의 경우에 사용
4. 각 비트가 현재 열거형에서의 위치를 반영하기 때문에 해당 값이 존재하는 지 아닌지 파악하는 것이 매우 빠르기 때문
= 산술 비트 연산으로 구현되고, HashSet 같은 다른 Set 구현체보다 빠르다고 볼 수 있다. 
   올바른 데이터를 찾기위해 hashCode를 찾을 필요조차 없다.

> 생성메서드 allOf()와 noneOf()
> 
1. allOf()는 해당 Enum의 모든 요소들을 포함하는 EnumSet을 만든다.
2. noneOf()는 allOf()와 반대로 비어있는 EnumSet을 만든다.